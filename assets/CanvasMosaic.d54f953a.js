import{P as a,f as e,a8 as l,a4 as n,aB as i,aW as u,al as o,ad as s,E as t,N as d,aD as m,F as r,M as c}from"./index.e4c0768c.js";import{M as v,a as f,b as h}from"./mosaic.20906289.js";var p=a({name:"CanavsMosaic",setup(){const a=e(30),o=e(6),s=e(null),t=e(null);return l((()=>{const e=Object.create(null);e.brushWidth=a.value,e.mosaicSize=o.value,t.value=new v(s.value,e)})),n((()=>{t.value&&t.value.destroy()})),i(a,(a=>{t.value&&(t.value.brushWidth=a)})),{mosaicSizeChange:function(a){t.value&&(t.value.mosaicSize=a)},openFile:function(){f().then((a=>{var e;null==(e=t.value)||e.init(a)}))},downloadImage:function(){var a;(null==(a=t.value)?void 0:a.inited)?(h(s.value),u.info("文件已开始下载")):u.info("请选择图片")},mosaicSize:o,brushWidth:a,canvasRef:s}}});const b=c("选择图片"),C=c("下载图片"),z={class:"canvas-wrapper"},g={ref:"canvasRef",width:"400",height:"400"};p.render=function(a,e,l,n,i,u){const c=o("el-input-number"),v=o("el-form-item"),f=o("el-button"),h=o("el-form");return s(),t(r,null,[d(h,{inline:!0,size:"mini"},{default:m((()=>[d(v,{label:"马赛克大小"},{default:m((()=>[d(c,{modelValue:a.mosaicSize,"onUpdate:modelValue":e[1]||(e[1]=e=>a.mosaicSize=e),onChange:a.mosaicSizeChange,min:4,max:8},null,8,["modelValue","onChange"])])),_:1}),d(v,{label:"笔刷宽度"},{default:m((()=>[d(c,{modelValue:a.brushWidth,"onUpdate:modelValue":e[2]||(e[2]=e=>a.brushWidth=e),min:30,step:10,max:100},null,8,["modelValue"])])),_:1}),d(v,null,{default:m((()=>[d(f,{type:"primary",onClick:a.openFile},{default:m((()=>[b])),_:1},8,["onClick"]),d(f,{type:"primary",onClick:a.downloadImage},{default:m((()=>[C])),_:1},8,["onClick"])])),_:1})])),_:1}),d("div",z,[d("canvas",g,null,512)])],64)};export default p;
