import{d as e,r as a,h as l,i as n,j as i,b as u,o as s,c as o,e as t,k as m,F as r,g as c}from"./index.7eff3664.js";import{M as d,l as h}from"./mosaic.b672e7c7.js";var v=e({name:"CanavsMosaic",setup(){const e=a(20),u=a(6),s=a(null),o=a(null);return l((()=>{const a=Object.create(null);a.brushWidth=e.value,a.mosaicSize=u.value,o.value=new d(s.value)})),n((()=>{o.value&&o.value.destroy()})),i(e,(e=>{o.value&&(o.value.brushWidth=e)})),{mosaicSizeChange:function(e){o.value&&(o.value.mosaicSize=e)},openFile:function(){h().then((e=>{var a;null==(a=o.value)||a.init(e)}))},mosaicSize:u,brushWidth:e,canvasRef:s}}});const f=c("选择图片"),p={class:"canvas-wrapper"},b={ref:"canvasRef",width:"400",height:"400"};v.render=function(e,a,l,n,i,c){const d=u("el-input-number"),h=u("el-form-item"),v=u("el-button"),z=u("el-form");return s(),o(r,null,[t(z,{inline:!0,size:"mini"},{default:m((()=>[t(h,{label:"马赛克大小"},{default:m((()=>[t(d,{modelValue:e.mosaicSize,"onUpdate:modelValue":a[1]||(a[1]=a=>e.mosaicSize=a),onChange:e.mosaicSizeChange,min:4,max:10},null,8,["modelValue","onChange"])])),_:1}),t(h,{label:"笔刷宽度"},{default:m((()=>[t(d,{modelValue:e.brushWidth,"onUpdate:modelValue":a[2]||(a[2]=a=>e.brushWidth=a),min:20,step:10,max:100},null,8,["modelValue"])])),_:1}),t(h,null,{default:m((()=>[t(v,{type:"primary",onClick:e.openFile},{default:m((()=>[f])),_:1},8,["onClick"])])),_:1})])),_:1}),t("div",p,[t("canvas",b,null,512)])],64)};export default v;
