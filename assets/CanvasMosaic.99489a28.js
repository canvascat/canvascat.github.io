import{d as a,r as e,o as l,a as n,l as i,Z as o,p as s,b as u,c as t,e as d,f as m,g as r,F as c,w as v,h as f}from"./index.ed5fd7e4.js";import{M as h,l as p,a as b}from"./mosaic.e828b9c3.js";var C=a({name:"CanavsMosaic",setup(){const a=e(30),s=e(6),u=e(null),t=e(null);return l((()=>{const e=Object.create(null);e.brushWidth=a.value,e.mosaicSize=s.value,t.value=new h(u.value,e)})),n((()=>{t.value&&t.value.destroy()})),i(a,(a=>{t.value&&(t.value.brushWidth=a)})),{mosaicSizeChange:function(a){t.value&&(t.value.mosaicSize=a)},openFile:function(){p().then((a=>{var e;null==(e=t.value)||e.init(a)}))},downloadImage:function(){var a;(null==(a=t.value)?void 0:a.inited)?(b(u.value),o.info("文件已开始下载")):o.info("请选择图片")},mosaicSize:s,brushWidth:a,canvasRef:u}}});const g=v("data-v-75453b92");s("data-v-75453b92");const z=f("选择图片"),_=f("下载图片"),S={class:"wrapper"},w={ref:"canvasRef",width:"400",height:"400"};u();const V=g(((a,e,l,n,i,o)=>{const s=t("el-input-number"),u=t("el-form-item"),v=t("el-button"),f=t("el-form");return d(),m(c,null,[r(f,{inline:!0,size:"mini"},{default:g((()=>[r(u,{label:"马赛克大小"},{default:g((()=>[r(s,{modelValue:a.mosaicSize,"onUpdate:modelValue":e[1]||(e[1]=e=>a.mosaicSize=e),onChange:a.mosaicSizeChange,min:4,max:8},null,8,["modelValue","onChange"])])),_:1}),r(u,{label:"笔刷宽度"},{default:g((()=>[r(s,{modelValue:a.brushWidth,"onUpdate:modelValue":e[2]||(e[2]=e=>a.brushWidth=e),min:30,step:10,max:100},null,8,["modelValue"])])),_:1}),r(u,null,{default:g((()=>[r(v,{type:"primary",onClick:a.openFile},{default:g((()=>[z])),_:1},8,["onClick"]),r(v,{type:"primary",onClick:a.downloadImage},{default:g((()=>[_])),_:1},8,["onClick"])])),_:1})])),_:1}),r("div",S,[r("canvas",w,null,512)])],64)}));C.render=V,C.__scopeId="data-v-75453b92";export default C;
